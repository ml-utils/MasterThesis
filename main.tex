%   Based on the frontespizio (title page) template by Marco Antonio Corallo.

% Document type: the twoside setting makes chapters begin with their first page on the right. 
\documentclass[a4paper, twoside,openright]{report}

% Page margins options
\usepackage[a4paper,top=3cm,bottom=3cm,left=3cm,right=3cm]{geometry} 
% removes this restriction by allowing font sizes at arbitrary sizes
\usepackage{lmodern}
% font size
\usepackage[fontsize=13pt]{scrextend}
% Language(s) of the document contents
\usepackage[english]{babel} % ,italian
% Bibliography language
\usepackage[fixlanguage]{babelbib}

% Bibliography package
%Includes "References" in the table of contents
\usepackage[nottoc]{tocbibind}
% Bibliography package natbib, to have the "author-year" format for citations
\usepackage[round]{natbib} 
% \usepackage{biblatex}

% text encoding
\usepackage[utf8]{inputenc} 
\usepackage[T1]{fontenc}

% For rotating images
\usepackage{rotating}
% To change the header of pages
\usepackage{fancyhdr}               

% Math libraries
% \usepackage{amssymb}
\usepackage{amsmath}
\usepackage{amsthm}         

% For images
\usepackage{graphicx}
% For colors
\usepackage[dvipsnames]{xcolor}         
% Listing for code (?)
\usepackage{listings}          
% To insert hyperlinks 
\usepackage{hyperref}     
% For different types of underlinings
\usepackage[normalem]{ulem}

% \usepackage[superscript,biblabel]{cite}

% for tables, allows merging cells across multiple rows
\usepackage{multirow}
\usepackage{array}
\newcolumntype{L}{>{\centering\arraybackslash}m{1cm}}
\usepackage{booktabs}
\usepackage{siunitx}

% for multiple images in a figure
\usepackage{subcaption}

% for numbered lists:
\usepackage{enumitem}

% \usepackage{fullpage}
% \usepackage{amsmath,amssymb,amsthm}
% -----------------------------------------------------------------

% Changes the header style
\pagestyle{fancy}
\fancyhf{}
\lhead{\rightmark}
\rhead{\textbf{\thepage}}
\fancyfoot{}
\setlength{\headheight}{12.5pt}

% Removed the page number on the first page of a chapter
\fancypagestyle{plain}{
  \fancyfoot{}
  \fancyhead{}
  \renewcommand{\headrulewidth}{0pt}
}

% Syntax highlighting for programming code examples
\lstdefinestyle{codeStyle}{
    % Colore dei commenti
    commentstyle=\color{teal},
    % Colore delle keyword
    keywordstyle=\color{Magenta},
    % Stile dei numeri di riga
    numberstyle=\tiny\color{gray},
    % Colore delle stringhe
    stringstyle=\color{violet},
    % Dimensione e stile del testo
    basicstyle=\ttfamily\footnotesize,
    % newline solo ai whitespaces
    breakatwhitespace=false,     
    % newline si/no
    breaklines=true,                 
    % Posizione della caption, top/bottom 
    captionpos=b,                    
    % Mantiene gli spazi nel codice, utile per l'indentazione
    keepspaces=true,                 
    % Dove visualizzare i numeri di linea
    numbers=left,                    
    % Distanza tra i numeri di linea
    numbersep=5pt,                  
    % Mostra gli spazi bianchi o meno
    showspaces=false,                
    % Mostra gli spazi bianchi nelle stringhe
    showstringspaces=false,
    % Mostra i tab
    showtabs=false,
    % Dimensione dei tab
    tabsize=2
} \lstset{style=codeStyle}

% Stile di codice per dimensioni maggiori, in cui ho avuto bisogno di un testo più picolo (ad esempio se si vuole inserire del codice che ha linee molto lunghe). Per usare questo stile piuttosto che il precedente, usare 

% \lstset{style=longBlock}
%  % inserire il codice...
% \lstset{style=codeStyle}

% Il secondo comando consente di tornare allo stile precedente 
\lstdefinestyle{longBlock}{
    commentstyle=\color{teal},
    keywordstyle=\color{Magenta},
    numberstyle=\tiny\color{gray},
    stringstyle=\color{violet},
    basicstyle=\ttfamily\scriptsize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
} \lstset{style=codeStyle}

% si inseriscono nella bibliografia anche le fonti presenti in Bibliography.bib ma non citati direttamente con il comando \cite
\nocite{*}

% Margini prima e dopo blocchi di codice, per avere più distanza
\lstset{aboveskip=20pt,belowskip=20pt}

% Modifica dello stile dei riferimenti, con il testo in cyano
\hypersetup{
    colorlinks,
    linkcolor=Blue,
    citecolor=Blue, % CornflowerBlue, % 
}

% Aggiunti definizioni, teoremi, linea e listing
\newtheorem{definition}{Definizione}[section]
\newtheorem{theorem}{Teorema}[section]
\providecommand*\definitionautorefname{Definizione}
\providecommand*\theoremautorefname{Teorema}
\providecommand*{\listingautorefname}{Listing}
\providecommand*\lstnumberautorefname{Linea}

\raggedbottom

%\newcommand{\cgs}[1]{{\textcolor{brown}[\textcolor{red}{\bf{GS: }}{ \textcolor{brown}{#1]}}}}             
%\newcommand{\cmc}[1]{{\textcolor{blue}[\textcolor{magenta}{\bf{MC: }}{ \textcolor{blue}{#1]}}}}


% -----------------------------------------------------------------
\begin{document}

\include{chapters/Frontespizio}
\cleardoublepage

% todo, fixme: the bibliography style turns titles all lowercase
\include{chapters/Abstract}

\tableofcontents

\listoffigures
% \listoftables

\include{chapters/Chapter1}

\appendix

\include{chapters/AppendixA}

\bibliographystyle{agsm} 
\bibliography{chapters/Bibliography}


% .. 
% \addbibresource{references.bib}
% \include{chapters/Bibliografia}
\end{document}
% -----------------------------------------------------------------
